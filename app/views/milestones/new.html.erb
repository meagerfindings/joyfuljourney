<% if @milestoneable&.is_a?(Post) %>
  <%= render 'post_form' %>
<% else %>
  <% page_title = if @milestoneable
    case @milestoneable
    when User
      "New Milestone for #{@milestoneable.name}"
    when Family
      "New Milestone for #{@milestoneable.name} Family"
    when Post
      "New Milestone for \"#{@milestoneable.title}\""
    end
  else
    "New Milestone"
  end %>

  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-sm border-0">
          <div class="card-header bg-primary text-white">
            <h4 class="mb-0">
              <i class="bi bi-trophy me-2"></i>
              <%= page_title %>
            </h4>
          </div>
          <div class="card-body p-4">
            <%= render 'form' %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>